[build]
  command = "npm run build:web"
  publish = ".output/public"

[functions]
  directory = "netlify/functions"
  node_bundler = "esbuild"

[[redirects]]
  from = "/api/create-checkout"
  to = "/.netlify/functions/create-checkout"
  status = 200

[[redirects]]
  from = "/api/verify-license"
  to = "/.netlify/functions/verify-license"
  status = 200

[[redirects]]
  from = "/api/webhook"
  to = "/.netlify/functions/webhook"
  status = 200

[[redirects]]
  from = "/api/cancel-subscription"
  to = "/.netlify/functions/cancel-subscription"
  status = 200

[[redirects]]
  from = "/api/auth/google"
  to = "/.netlify/functions/google-auth"
  status = 200

[[redirects]]
  from = "/api/auth/status"
  to = "/.netlify/functions/auth-status"
  status = 200

[[redirects]]
  from = "/api/auth/desktop/exchange"
  to = "/.netlify/functions/auth-desktop-exchange"
  status = 200

[[redirects]]
  from = "/api/auth/desktop/session"
  to = "/.netlify/functions/auth-desktop-session"
  status = 200

[[redirects]]
  from = "/api/auth/refresh"
  to = "/.netlify/functions/auth-refresh"
  status = 200

[[redirects]]
  from = "/api/auth/public-key"
  to = "/.netlify/functions/auth-public-key"
  status = 200
